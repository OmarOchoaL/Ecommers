(function(){"use strict";var a={1271:function(a,e,t){a.exports=t.p+"img/tecflix.b0ed0e11.png"},4047:function(a,e,t){var o=t(5130),r=t(6768);function l(a,e,t,o,l,n){const s=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(s)}var n={name:"App",components:{}},s=t(1241);const i=(0,s.A)(n,[["render",l]]);var c=i,d=(t(5707),t(1387)),u=t(4232);const p={class:"wrapper"},v={class:"main-container"},m={class:"location",id:"home"},f={key:0,class:"row"},g={class:"card"},h=["src"],k={class:"card-body"},b={class:"card-title"},y={key:0,class:"row"},L={class:"card"},C=["src"],w={class:"card-body"},P={class:"card-title"},_={key:1,class:"row"},E={class:"card"},X=["src"],I={class:"card-body"},A={class:"card-title"},S={key:2,class:"row"},x={class:"card"},U=["src"],F={class:"card-body"},O={class:"card-title"},$={key:3};function M(a,e,t,o,l,n){const s=(0,r.g2)("HeaderComponent"),i=(0,r.g2)("FooterComponent");return(0,r.uX)(),(0,r.CE)("div",p,[(0,r.bF)(s),(0,r.Lk)("section",v,[(0,r.Lk)("div",m,[e[0]||(e[0]=(0,r.Lk)("h1",{id:"home"},"Peliculas",-1)),l.ultimos.length>0?((0,r.uX)(),(0,r.CE)("div",f,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.ultimos,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"col-3",key:a.id},[(0,r.Lk)("div",g,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.image,class:"card-img-top",alt:"Movie Image"},null,8,h)):(0,r.Q3)("",!0),(0,r.Lk)("div",k,[(0,r.Lk)("h3",b,(0,u.v_)(a.title),1)])])])))),128))])):(0,r.Q3)("",!0)]),e[1]||(e[1]=(0,r.Lk)("h1",{id:"tvShows"},"Series",-1)),l.ultimoss.length>0?((0,r.uX)(),(0,r.CE)("div",y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.ultimoss,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"col-3",key:a.id},[(0,r.Lk)("div",L,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.image,class:"card-img-top",alt:"Serie Image"},null,8,C)):(0,r.Q3)("",!0),(0,r.Lk)("div",w,[(0,r.Lk)("h3",P,(0,u.v_)(a.title),1)])])])))),128))])):(0,r.Q3)("",!0),e[2]||(e[2]=(0,r.Lk)("h1",{id:"movies"},"Ultimos Agregados",-1)),l.ultimoss.length>0?((0,r.uX)(),(0,r.CE)("div",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.ultimoss,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"col-3",key:a.id},[(0,r.Lk)("div",E,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.image,class:"card-img-top",alt:"Serie Image"},null,8,X)):(0,r.Q3)("",!0),(0,r.Lk)("div",I,[(0,r.Lk)("h3",A,(0,u.v_)(a.title),1)])])])))),128))])):(0,r.Q3)("",!0),l.ultimos.length>0?((0,r.uX)(),(0,r.CE)("div",S,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.ultimos,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"col-3",key:a.id},[(0,r.Lk)("div",x,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:a.image,class:"card-img-top",alt:"Movie Image"},null,8,U)):(0,r.Q3)("",!0),(0,r.Lk)("div",F,[(0,r.Lk)("h3",O,(0,u.v_)(a.title),1)])])])))),128))])):((0,r.uX)(),(0,r.CE)("p",$,"Cargando series..."))]),e[3]||(e[3]=(0,r.Fv)('<section class="link" data-v-a77c5f38><div class="logos" data-v-a77c5f38><a href="#" data-v-a77c5f38><i class="fab fa-facebook-square fa-2x logo" data-v-a77c5f38></i></a><a href="#" data-v-a77c5f38><i class="fab fa-instagram fa-2x logo" data-v-a77c5f38></i></a><a href="#" data-v-a77c5f38><i class="fab fa-twitter fa-2x logo" data-v-a77c5f38></i></a><a href="#" data-v-a77c5f38><i class="fab fa-youtube fa-2x logo" data-v-a77c5f38></i></a></div><div class="sub-links" data-v-a77c5f38><ul data-v-a77c5f38><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Audio and Subtitles</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Audio Description</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Help Center</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Gift Cards</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Media Center</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Investor Relations</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Jobs</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Terms of Use</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Privacy</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Legal Notices</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Corporate Information</a></li><li data-v-a77c5f38><a href="#" data-v-a77c5f38>Contact Us</a></li></ul></div></section>',1)),(0,r.bF)(i)])}t(4114);const V={class:"netflixLogo"},T=["src"],j={class:"sub-nav"};function J(a,e,t,o,l,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",null,[(0,r.Lk)("div",V,[(0,r.bF)(s,{id:"logo",to:"/"},{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:l.logoUrl,alt:"Logo Image"},null,8,T)])),_:1})]),e[2]||(e[2]=(0,r.Lk)("nav",{class:"main-nav"},[(0,r.Lk)("a",{href:"#home"},"Películas"),(0,r.Lk)("a",{href:"#tvShows"},"Series"),(0,r.Lk)("a",{href:"#movies"},"Últimos Agregados")],-1)),(0,r.Lk)("nav",j,[e[1]||(e[1]=(0,r.Fv)('<a href="#" data-v-e3d9627a><i class="fas fa-search sub-nav-logo" data-v-e3d9627a></i></a><a href="#" data-v-e3d9627a><i class="fas fa-bell sub-nav-logo" data-v-e3d9627a></i></a><a href="#" data-v-e3d9627a>Account</a>',3)),(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...a)=>n.logout&&n.logout(...a)),class:"logout-btn"},"Cerrar sesión")])])}var Q={name:"HeaderComponent",data(){return{logoUrl:t(1271)}},methods:{logout(){localStorage.removeItem("token"),this.$router.push({name:"login"})}}};const R=(0,s.A)(Q,[["render",J],["__scopeId","data-v-e3d9627a"]]);var q=R;function B(a,e,t,o,l,n){return(0,r.uX)(),(0,r.CE)("footer",null,e[0]||(e[0]=[(0,r.Lk)("p",null,"Tecflix",-1),(0,r.Lk)("p",null,"Omar Tadeo",-1)]))}var D={name:"FooterComponent"};const K=(0,s.A)(D,[["render",B]]);var H=K,N=t(4373),W={name:"HomeComponent",components:{HeaderComponent:q,FooterComponent:H},data(){return{ultimos:[],ultimoss:[],loaded:!1}},methods:{refresh(){this.loaded=!1,console.log("Cargando películas y series..."),N.A.all([N.A.get("/peliculas"),N.A.get("/series")]).then(N.A.spread(((a,e)=>{console.log("Películas recibidas:",a.data.ultimos),console.log("Series recibidas:",e.data.ultimoss),this.ultimos=a.data.ultimos||[],this.ultimoss=e.data.ultimoss||[]}))).catch((a=>{console.error("Error al obtener datos:",a)})).finally((()=>{this.loaded=!0,console.log("Carga finalizada.")}))}},mounted(){localStorage.getItem("token")||this.$router.push({name:"login"}),this.refresh()}};const z=(0,s.A)(W,[["render",M],["__scopeId","data-v-a77c5f38"]]);var G=z;const Y={class:"product-details"},Z=["src"],aa={class:"meta"};function ea(a,e,t,o,l,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Y,[(0,r.Lk)("h1",null,(0,u.v_)(l.product.title),1),(0,r.Lk)("img",{src:l.product.image,class:"product-image",alt:"Product Image"},null,8,Z),(0,r.Lk)("p",null,(0,u.v_)(l.product.description),1),(0,r.Lk)("div",aa,[(0,r.Lk)("div",null,[e[0]||(e[0]=(0,r.Lk)("strong",null,"IMDB:",-1)),(0,r.eW)(" "+(0,u.v_)(l.product.imdbRating),1)]),(0,r.Lk)("div",null,[e[1]||(e[1]=(0,r.Lk)("strong",null,"Año:",-1)),(0,r.eW)(" "+(0,u.v_)(l.product.releaseYear),1)])]),(0,r.bF)(s,{to:"/"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Volver a inicio")]))),_:1})])}var ta={name:"ProductSingleComponent",props:["id"],data(){return{product:{}}},mounted(){const a=this.$route.params.id;this.fetchProductDetails(a)},methods:{fetchProductDetails(){const a=this.$route.params.id;N.A.get(`http://localhost:8000/api/movie/${a}`).then((a=>{this.movie=a.data})).catch((a=>{console.error("Error al obtener los detalles del producto:",a)}))}}};const oa=(0,s.A)(ta,[["render",ea],["__scopeId","data-v-7076cdbe"]]);var ra=oa;const la={class:"container"},na={class:"form cf"},sa={class:"plan cf"},ia={style:{display:"flex"}};function ca(a,e,t,l,n,s){return(0,r.uX)(),(0,r.CE)("div",la,[e[11]||(e[11]=(0,r.Lk)("h1",null,"Checkout Form",-1)),(0,r.Lk)("form",na,[(0,r.Lk)("section",sa,[e[9]||(e[9]=(0,r.Lk)("h2",null,"Elige un plan:",-1)),(0,r.Lk)("div",ia,[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"plan",id:"basic",value:"basic","onUpdate:modelValue":e[0]||(e[0]=a=>n.selectedPlan=a),onChange:e[1]||(e[1]=(...a)=>s.pagar&&s.pagar(...a))},null,544),[[o.XL,n.selectedPlan]]),e[6]||(e[6]=(0,r.Lk)("label",{class:"basic-label four col",for:"basic"},"Básico ($200)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"plan",id:"premium",value:"premium","onUpdate:modelValue":e[2]||(e[2]=a=>n.selectedPlan=a),onChange:e[3]||(e[3]=(...a)=>s.pagar&&s.pagar(...a))},null,544),[[o.XL,n.selectedPlan]]),e[7]||(e[7]=(0,r.Lk)("label",{class:"premium-label four col",for:"premium"},"Premium($400)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"plan",id:"vip",value:"vip","onUpdate:modelValue":e[4]||(e[4]=a=>n.selectedPlan=a),onChange:e[5]||(e[5]=(...a)=>s.pagar&&s.pagar(...a))},null,544),[[o.XL,n.selectedPlan]]),e[8]||(e[8]=(0,r.Lk)("label",{class:"vip-label four col",for:"vip"},"VIP ($600)",-1))])]),e[10]||(e[10]=(0,r.Lk)("div",{id:"btnPayPal"},null,-1))])])}var da={name:"CheckoutComponent",data(){return{selectedPlan:"basic",planPrices:{basic:200,premium:400,vip:600}}},mounted(){this.pagar()},methods:{pagar(){const a=document.getElementById("btnPayPal");a&&(a.innerHTML=""),window.paypal&&"function"===typeof window.paypal.Buttons?window.paypal.Buttons({createOrder:(a,e)=>{const t=this.planPrices[this.selectedPlan];return e.order.create({purchase_units:[{amount:{value:t.toFixed(2),currency_code:"MXN"},description:`Pago del plan ${this.selectedPlan.toUpperCase()}`}]})},onApprove:async(a,e)=>{const t=await e.order.capture();alert(`¡Pago completado, ${t.payer.name.given_name}! Gracias por comprar el plan ${this.selectedPlan.toUpperCase()}.`);const o={basic:1,premium:2,vip:3},r=o[this.selectedPlan];try{const a=localStorage.getItem("token");await fetch("http://localhost:8000/api/users/plan",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({plan_id:r})}),console.log("Plan actualizado en el backend:",r),window.location.href="/login"}catch(l){console.error("Error al actualizar el plan en el servidor:",l)}}}).render("#btnPayPal"):console.error("PayPal SDK no cargado correctamente.")}}};const ua=(0,s.A)(da,[["render",ca],["__scopeId","data-v-3756c1bc"]]);var pa=ua;const va={class:"login-container"},ma={class:"login-card"},fa={key:0,class:"error"};function ga(a,e,t,l,n,s){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",va,[(0,r.Lk)("div",ma,[e[6]||(e[6]=(0,r.Lk)("h2",null,"Iniciar sesión",-1)),(0,r.Lk)("form",{onSubmit:e[2]||(e[2]=(0,o.D$)(((...a)=>s.login&&s.login(...a)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>n.email=a),placeholder:"Correo electrónico",required:""},null,512),[[o.Jo,n.email]]),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>n.password=a),placeholder:"Contraseña",required:""},null,512),[[o.Jo,n.password]]),e[3]||(e[3]=(0,r.Lk)("button",{type:"submit"},"Entrar",-1)),n.errorMessage?((0,r.uX)(),(0,r.CE)("p",fa,(0,u.v_)(n.errorMessage),1)):(0,r.Q3)("",!0)],32),(0,r.Lk)("div",null,[e[5]||(e[5]=(0,r.Lk)("hr",null,null,-1)),(0,r.bF)(i,{to:"/register",class:"register-button"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("Crear usuario nuevo")]))),_:1})])])])}var ha={name:"LoginComponent",data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){try{const a=await N.A.post("http://localhost:8000/api/login",{email:this.email,password:this.password}),e=a.data.token;localStorage.setItem("token",e),this.$router.push("/")}catch(a){this.errorMessage="Credenciales inválidas o error del servidor",console.error(a)}}}};const ka=(0,s.A)(ha,[["render",ga],["__scopeId","data-v-63880ac8"]]);var ba=ka,ya=t(144);const La={class:"register-container"},Ca={class:"register-card"},wa={key:0,class:"error"};var Pa={__name:"RegisterView",setup(a){const e=(0,d.rd)(),t=(0,ya.KR)({name:"",email:"",password:"",password_confirmation:""}),l=(0,ya.KR)(null),n=async()=>{try{const a=await N.A.post("http://localhost:8000/api/register",t.value),o=a.data.token,r=a.data.user;localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(r)),e.push("/checkout")}catch(a){console.error("Error al registrar usuario:",a),l.value=a.response?.data?.message||"No se pudo registrar el usuario. Verifica los datos."}};return(a,e)=>((0,r.uX)(),(0,r.CE)("div",La,[(0,r.Lk)("div",Ca,[e[5]||(e[5]=(0,r.Lk)("h2",null,"Registro",-1)),(0,r.Lk)("form",{onSubmit:(0,o.D$)(n,["prevent"])},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.name=a),type:"text",placeholder:"Nombre de usuario",required:""},null,512),[[o.Jo,t.value.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.email=a),type:"email",placeholder:"Correo electrónico",required:""},null,512),[[o.Jo,t.value.email]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.password=a),type:"password",placeholder:"Contraseña",required:""},null,512),[[o.Jo,t.value.password]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.password_confirmation=a),type:"password",placeholder:"Confirmar contraseña",required:""},null,512),[[o.Jo,t.value.password_confirmation]]),e[4]||(e[4]=(0,r.Lk)("button",{type:"submit"},"Registrarse",-1)),l.value?((0,r.uX)(),(0,r.CE)("p",wa,(0,u.v_)(l.value),1)):(0,r.Q3)("",!0)],32)])]))}};const _a=(0,s.A)(Pa,[["__scopeId","data-v-7f55d2e5"]]);var Ea=_a;const Xa=[{path:"/",name:"home",component:G},{path:"/movie/:id",name:"product",component:ra,props:!0},{path:"/checkout",name:"checkout",component:pa},{path:"/login",name:"login",component:ba},{path:"/register",name:"Register",component:Ea}],Ia=(0,d.aE)({history:(0,d.Bt)(),routes:Xa});var Aa=Ia;N.A.defaults.baseURL="http://localhost:8000/api/",(0,o.Ef)(c).use(Aa).mount("#app")}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var l=e[o]={exports:{}};return a[o].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,o,r,l){if(!o){var n=1/0;for(d=0;d<a.length;d++){o=a[d][0],r=a[d][1],l=a[d][2];for(var s=!0,i=0;i<o.length;i++)(!1&l||n>=l)&&Object.keys(t.O).every((function(a){return t.O[a](o[i])}))?o.splice(i--,1):(s=!1,l<n&&(n=l));if(s){a.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[o,r,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var o in e)t.o(e,o)&&!t.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,o){var r,l,n=o[0],s=o[1],i=o[2],c=0;if(n.some((function(e){return 0!==a[e]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(i)var d=i(t)}for(e&&e(o);c<n.length;c++)l=n[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(d)},o=self["webpackChunktecflix"]=self["webpackChunktecflix"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(4047)}));o=t.O(o)})();
//# sourceMappingURL=app.7e17ef6e.js.map